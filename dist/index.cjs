"use strict";var R=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var k=Object.getOwnPropertyNames;var M=Object.prototype.hasOwnProperty;var j=(n,t)=>{for(var s in t)R(n,s,{get:t[s],enumerable:!0})},v=(n,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of k(t))!M.call(n,a)&&a!==s&&R(n,a,{get:()=>t[a],enumerable:!(r=p(t,a))||r.enumerable});return n};var w=n=>v(R({},"__esModule",{value:!0}),n);var h={};j(h,{createI18n:()=>L,useI18n:()=>T});module.exports=w(h);var o=require("vue"),m=Symbol("i18n");function $(n,t=""){let s=new Map;for(let r in n){let a=t?`${t}.${r}`:r,i=n[r];if(typeof i=="string")s.set(a,i);else if(typeof i=="object"&&i!==null){let b=$(i,a);for(let[y,g]of b)s.set(y,g)}}return s}function x(n,t){let s=$(n),r=new Map;for(let[a,i]of s)r.set(a,i);return r}function L(n){let t=(0,o.ref)(n.locale),s=n.messages,r=n.fallbackLocale,a=Object.keys(s),i=new Map;for(let e of a)i.has(e)||i.set(e,x(s[e],e));function b(e){let l=i.get(t.value)?.get(e);if(l!==void 0)return l;if(t.value!==r){let u=i.get(r)?.get(e);if(u!==void 0)return u}return n.missingWarn!==!1&&console.warn(`[i18n] Missing translation for key: ${e}`),e}let y=/\{(\w+)\}/g;function g(e,c){let l=b(e);if(!c)return l;let I=(0,o.unref)(c);return l=l.replace(y,(u,P)=>P in I?String(I[P]):u),l}function d(e,c){return g(e,c)}let f={t:g,locale:t,availableLocales:a,messages:s,fallbackLocale:r};return Object.assign(f,{install(e){e.provide(m,f),n.globalInjection!==!1&&(n.globalNamePrefix?.length?(e.config.globalProperties[`$${n.globalNamePrefix}T`]=d,e.config.globalProperties[`$${n.globalNamePrefix}I18n`]=f,e.config.globalProperties[`$${n.globalNamePrefix}Locale`]=t):(e.config.globalProperties.$t=d,e.config.globalProperties.$i18n=f,e.config.globalProperties.$locale=t))}})}function T(){let n=(0,o.inject)(m);if(!n)throw new Error("I18n instance not found. Did you forget to install the i18n plugin?");return n}0&&(module.exports={createI18n,useI18n});
//# sourceMappingURL=index.cjs.map