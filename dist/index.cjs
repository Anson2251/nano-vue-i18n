"use strict";var p=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var k=(n,e)=>{for(var r in e)p(n,r,{get:e[r],enumerable:!0})},v=(n,e,r,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of w(e))!E.call(n,s)&&s!==r&&p(n,s,{get:()=>e[s],enumerable:!(l=L(e,s))||l.enumerable});return n};var z=n=>v(p({},"__esModule",{value:!0}),n);var S={};k(S,{createI18n:()=>_,defaultPluralRules:()=>j,useI18n:()=>T});module.exports=z(S);var g=require("vue"),h=Symbol("i18n"),y="";function A(n,e=""){let r=new Map,l=/\s*\|\s*/g;for(let s in n){let c=e?`${e}.${s}`:s,a=n[s];if(typeof a=="string")r.set(c,a.replace(l,y));else if(Array.isArray(a))r.set(c,a.join(y));else if(typeof a=="object"&&a!==null){let R=A(a,c);for(let[I,b]of R)r.set(I,b)}}return r}function N(n){let e=new Map;return n.forEach((r,l)=>{r.includes(y)&&e.set(l,r.split(y).map(s=>s.trim()))}),e}function O(n){let e=new Map;for(let r in j)e.set(r,j[r]);if(!n)return e;for(let r in n)e.set(r,n[r]);return e}var j={zh:()=>0,"zh-CN":()=>0,"zh-TW":()=>0,en:n=>n===1?0:1,ja:()=>0,ko:()=>0,fr:n=>n===0||n===1?0:1,de:n=>n===1?0:1,es:n=>n===1?0:1,ru:n=>{let e=n%10,r=n%100;return e===1&&r!==11?0:e>=2&&e<=4&&(r<10||r>=20)?1:2},pl:n=>{if(n===1)return 0;let e=n%10,r=n%100;return e>=2&&e<=4&&(r<10||r>=20)?1:2},ar:n=>n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11&&n%100<=99?4:5};function _(n){let e=(0,g.ref)(n.locale),r=n.messages,l=n.fallbackLocale,s=Object.keys(r),c=A(r),a=O(n.customPluralRules),R=N(c);function I(t,o){let i=R.get(`${e.value}.${t}`)??R.get(`${l}.${t}`);if(!i)return b(t);if(i.length<=1)return t;let f=(a.get(e.value)??a.get(l)??(P=>P===1?0:1))(Math.abs(o));return i[Math.min(f,i.length-1)]}function b(t){let o=c.get(`${e.value}.${t}`)??c.get(`${l}.${t}`);return typeof o<"u"?o:(n.missingWarn!==!1&&console.warn(`[i18n (nano)] Missing translation for key: ${t}`),t)}let M=/\{(\w+)\}/g;function m(t,o){let i=b(t);if(!o)return i;let u=(0,g.unref)(o);return i=i.replace(M,(f,P)=>P in u?String(u[P]):f),i}function $(t,o,i){isNaN(o)&&(n.missingWarn!==!1&&console.warn("[i18n (nano)] Plural parameter is NaN"),o=1);let u=I(t,o);if(!i)return u;let f=(0,g.unref)(i);return u.replace(M,(P,x)=>x in f?String(f[x]):P)}let d={t:m,tc:$,locale:e,availableLocales:s,messages:r,fallbackLocale:l};return Object.assign(d,{install(t){t.provide(h,d),n.globalInject!==!1&&(n.globalInjectPrefix?.length?(t.config.globalProperties[`$${n.globalInjectPrefix}T`]=m,t.config.globalProperties[`$${n.globalInjectPrefix}I18n`]=d,t.config.globalProperties[`$${n.globalInjectPrefix}Locale`]=e,t.config.globalProperties[`$${n.globalInjectPrefix}Tc`]=$):(t.config.globalProperties.$t=m,t.config.globalProperties.$i18n=d,t.config.globalProperties.$locale=e,t.config.globalProperties.$tc=$))}})}function T(){let n=(0,g.inject)(h);if(!n)throw new Error("I18n (nano) instance not found. Did you forget to install the i18n plugin?");return n}0&&(module.exports={createI18n,defaultPluralRules,useI18n});
//# sourceMappingURL=index.cjs.map