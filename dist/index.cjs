"use strict";var m=Object.defineProperty;var L=Object.getOwnPropertyDescriptor;var w=Object.getOwnPropertyNames;var E=Object.prototype.hasOwnProperty;var k=(n,e)=>{for(var r in e)m(n,r,{get:e[r],enumerable:!0})},N=(n,e,r,l)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of w(e))!E.call(n,s)&&s!==r&&m(n,s,{get:()=>e[s],enumerable:!(l=L(e,s))||l.enumerable});return n};var v=n=>N(m({},"__esModule",{value:!0}),n);var W={};k(W,{createI18n:()=>_,defaultPluralRules:()=>$,useI18n:()=>T});module.exports=v(W);var g=require("vue"),M=Symbol("i18n"),P="";function x(n,e=""){let r=new Map,l=/\s*\|\s*/g;for(let s in n){let c=e?`${e}.${s}`:s,o=n[s];if(typeof o=="string")r.set(c,o.replace(l,P));else if(Array.isArray(o))r.set(c,o.join(P));else if(typeof o=="object"&&o!==null){let u=x(o,c);for(let[d,f]of u)r.set(d,f)}}return r}function z(n){let e=new Map;return n.forEach((r,l)=>{r.includes(P)&&e.set(l,r.split(P).map(s=>s.trim()))}),e}function O(n){let e=new Map;for(let r in $)e.set(r,$[r]);if(!n)return e;for(let r in n)e.set(r,n[r]);return e}var $={zh:()=>0,"zh-CN":()=>0,"zh-TW":()=>0,en:n=>n===1?0:1,ja:()=>0,ko:()=>0,fr:n=>n===0||n===1?0:1,de:n=>n===1?0:1,es:n=>n===1?0:1,ru:n=>{let e=n%10,r=n%100;return e===1&&r!==11?0:e>=2&&e<=4&&(r<10||r>=20)?1:2},pl:n=>{if(n===1)return 0;let e=n%10,r=n%100;return e>=2&&e<=4&&(r<10||r>=20)?1:2},ar:n=>n===0?0:n===1?1:n===2?2:n%100>=3&&n%100<=10?3:n%100>=11&&n%100<=99?4:5};function _(n){let e=(0,g.ref)(n.locale),r=n.messages,l=n.fallbackLocale,s=Object.keys(r),c=x(r),o=O(n.customPluralRules),u=z(c);function d(t,i){let a=u.get(`${e.value}.${t}`)??u.get(`${l}.${t}`);if(!a||a.length===0)return f(t);let b=(o.get(e.value)??o.get(l)??(A=>A===1?0:1))(Math.abs(i));return a[Math.min(b,a.length-1)]}function f(t){let i=c.get(`${e.value}.${t}`)??c.get(`${l}.${t}`);return typeof i<"u"?i:(n.missingWarn!==!1&&console.warn(`[i18n (nano)] Missing translation for key: ${t}`),t)}let h=/\{(\w+)\}/g;function p(t,i){if(!i)return t;let a=(0,g.unref)(i);return t.replace(h,(j,b)=>b in a?String(a[b]):j)}function y(t,i){return p(f(t),i)}function I(t,i,a){return isNaN(i)&&(n.missingWarn!==!1&&console.warn("[i18n (nano)] Plural parameter is NaN"),i=1),p(d(t,i),a)}let R={t:y,tc:I,locale:e,availableLocales:s,messages:r,fallbackLocale:l};return Object.assign(R,{install(t){t.provide(M,R),n.globalInject!==!1&&(n.globalInjectPrefix?.length?(t.config.globalProperties[`$${n.globalInjectPrefix}T`]=y,t.config.globalProperties[`$${n.globalInjectPrefix}I18n`]=R,t.config.globalProperties[`$${n.globalInjectPrefix}Locale`]=e,t.config.globalProperties[`$${n.globalInjectPrefix}Tc`]=I):(t.config.globalProperties.$t=y,t.config.globalProperties.$i18n=R,t.config.globalProperties.$locale=e,t.config.globalProperties.$tc=I))}})}function T(){let n=(0,g.inject)(M);if(!n)throw new Error("I18n (nano) instance not found. Did you forget to install the i18n plugin?");return n}0&&(module.exports={createI18n,defaultPluralRules,useI18n});
//# sourceMappingURL=index.cjs.map