import{ref as d,inject as R,unref as j}from"vue";var y=Symbol("i18n");function P(n,s=""){let r=new Map;for(let l in n){let a=s?`${s}.${l}`:l,t=n[l];if(typeof t=="string")r.set(a,t);else if(typeof t=="object"&&t!==null){let f=P(t,a);for(let[u,i]of f)r.set(u,i)}}return r}function x(n){let s=d(n.locale),r=n.messages,l=n.fallbackLocale,a=Object.keys(r),t=P(r);function f(e){let o=t.get(`${s.value}.${e}`)??t.get(`${l}.${e}`);return typeof o<"u"?o:(n.missingWarn!==!1&&console.warn(`[i18n (nano)] Missing translation for key: ${e}`),e)}let u=/\{(\w+)\}/g;function i(e,o){let g=f(e);if(!o)return g;let b=j(o);return g=g.replace(u,($,I)=>I in b?String(b[I]):$),g}let c={t:i,locale:s,availableLocales:a,messages:r,fallbackLocale:l};return Object.assign(c,{install(e){e.provide(y,c),n.globalInject!==!1&&(n.globalInjectPrefix?.length?(e.config.globalProperties[`$${n.globalInjectPrefix}T`]=i,e.config.globalProperties[`$${n.globalInjectPrefix}I18n`]=c,e.config.globalProperties[`$${n.globalInjectPrefix}Locale`]=s):(e.config.globalProperties.$t=i,e.config.globalProperties.$i18n=c,e.config.globalProperties.$locale=s))}})}function L(){let n=R(y);if(!n)throw new Error("I18n (nano) instance not found. Did you forget to install the i18n plugin?");return n}export{x as createI18n,L as useI18n};
//# sourceMappingURL=index.js.map