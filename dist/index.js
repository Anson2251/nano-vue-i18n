import{ref as m,inject as $,unref as p}from"vue";var d=Symbol("i18n");function P(e,r=""){let a=new Map;for(let s in e){let i=r?`${r}.${s}`:s,t=e[s];if(typeof t=="string")a.set(i,t);else if(typeof t=="object"&&t!==null){let u=P(t,i);for(let[b,c]of u)a.set(b,c)}}return a}function k(e,r){let a=P(e),s=new Map;for(let[i,t]of a)s.set(i,t);return s}function v(e){let r=m(e.locale),a=e.messages,s=e.fallbackLocale,i=Object.keys(a),t=new Map;for(let n of i)t.has(n)||t.set(n,k(a[n],n));function u(n){let l=t.get(r.value)?.get(n);if(l!==void 0)return l;if(r.value!==s){let f=t.get(s)?.get(n);if(f!==void 0)return f}return e.missingWarn!==!1&&console.warn(`[i18n] Missing translation for key: ${n}`),n}let b=/\{(\w+)\}/g;function c(n,o){let l=u(n);if(!o)return l;let y=p(o);return l=l.replace(b,(f,R)=>R in y?String(y[R]):f),l}function I(n,o){return c(n,o)}let g={t:c,locale:r,availableLocales:i,messages:a,fallbackLocale:s};return Object.assign(g,{install(n){n.provide(d,g),e.globalInjection!==!1&&(e.globalNamePrefix?.length?(n.config.globalProperties[`$${e.globalNamePrefix}T`]=I,n.config.globalProperties[`$${e.globalNamePrefix}I18n`]=g,n.config.globalProperties[`$${e.globalNamePrefix}Locale`]=r):(n.config.globalProperties.$t=I,n.config.globalProperties.$i18n=g,n.config.globalProperties.$locale=r))}})}function w(){let e=$(d);if(!e)throw new Error("I18n instance not found. Did you forget to install the i18n plugin?");return e}export{v as createI18n,w as useI18n};
//# sourceMappingURL=index.js.map